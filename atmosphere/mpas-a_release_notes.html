<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>MPAS-Atmosphere Release Notes</title>
</head>

<body><br>
<table style="text-align: left; width: 654px; height: 44px;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="vertical-align: top;">
      <div style="text-align: left;">
      </div>
      
      <div style="text-align: center;"><big><big><big style="font-weight: bold;">Release notes for MPAS-Atmosphere</big></big></big><br>
      </div>


      
      
      </td>
    </tr>
  </tbody>
</table>
<br>
<table style="text-align: left; width: 654px; height: 52px; background-color: rgb(255, 255, 204);" border="0" cellpadding="6" cellspacing="2">
  <tbody>


    <tr>
      <td style="vertical-align: top;"><big><span style="font-weight: bold;">MPAS-Atmosphere Version 4.0</span></big><br>
      <big><span style="font-weight: bold;">21 May 2015</span></big>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">
      This major release includes several significant changes to the atmosphere core, and a small number of minor changes
      to the shared MPAS infrastructure that are visible to users.<br><br>
      Significant changes in the atmosphere core include the following:
      <ul>
        <li>A new split dynamics-transport integration scheme has been introduced, allowing scalar transport to take place on 
            a longer timestep than the other dynamics. Real-data testing indicates that the new scheme offers greater model
            stability. This scheme, selected by default, is controlled by the new namelist options 
            <i>config_split_dynamics_transport</i>, which controls whether the new option is used, and 
            <i>config_dynamics_split_steps</i>, which sets number of dynamics sub-cycles in a timestep.
        <li>The concept of physics <i>suites</i> has been introduced, allowing groups of physics parameterizations 
            that have been tested together to be selected with a single namelist option; this is an alternative to 
            individually specifying parameterization schemes. By default, MPAS-Atmosphere uses
            the 'mesoscale_reference' suite, described in Section 6.1 of the Users' Guide.</i>
        <li>Improved support for initializing with model-level datasets, in particular, ERA-Interim model level data.
        <li>Scale-adaptive coordinate surface smoothing.
      </ul>
      Several minor, though notable, changes have also been included in the MPAS software infrastructure:
      <ul>
        <li>A new optional keyword, io_type, has been implemented in the XML stream configuration files, allowing the file format
            and library to be selected on a per-stream basis. More details are available in Section 5.2 of the Users' Guide.
        <li>In the MPAS 3.x releases, fields and global attributes showed up in output files in random order; now, the order of
            the file contents is based on the order that fields and namelist options were declared in the Registry.xml file of a core.
        <li>A few minor improvements have been made to enable MPAS-Atmosphere to run more reliably in single-precision and at high-resolution,
            especially on large MPI task counts.
      </ul>
      </td>
    </tr>


    <tr>
      <td style="vertical-align: top;"><big><span style="font-weight: bold;">MPAS-Atmosphere Version 3.3</span></big><br>
      <big><span style="font-weight: bold;">21 January 2015</span></big>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">
      This bugfix release corrects an number of issues in the shared MPAS infrastructure:
      <ul>
        <li>Fix an issue in the timekeeping library when comparing time intervals with different numbers of years or months</li>
        <li>Fix a memory leak when setting times in the time manager</li>
        <li>Add improved error messages when attempting to read from non-existent files</li>
        <li>Correctly catch error conditions produced by open() when opening XML files</li>
        <li>Fix bug in merging var_struct and var_array elements in Registry.xml files</li>
        <li>Set the s_d variable within time manager to avoid potential division by zero</li>
        <li>Remove an extra if-test to handle r0a field destruction in pools</li>
        <li>Avoid allocating memory for inactive package variables</li>
        <li>Fix for directory creation for streams when directories are nested within non-writable directories</li>
        <li>Permit input streams to have the same filename template</li>
        <li>Update infrastructure bootstrapping process to properly handle stream attributes</li>
        <li>Fix an issue with interval division when resetting alarms</li>
      </ul>
      </td>
    </tr>


    <tr>
      <td style="vertical-align: top;"><big><span style="font-weight: bold;">MPAS-Atmosphere Version 3.2</span></big><br>
      <big><span style="font-weight: bold;">17 December 2014</span></big>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">
<i>This bugfix release only affects MPAS-Ocean.</i><br><br>
      </td>
    </tr>


    <tr>
      <td style="vertical-align: top;"><big><span style="font-weight: bold;">MPAS-Atmosphere Version 3.1</span></big><br>
      <big><span style="font-weight: bold;">24 November 2014</span></big>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">
      This bugfix release corrects an error in the downward extrapolation of RH for model levels 
      that lie below the surface of the initial condition dataset (e.g., GFS). Without this fix,
      the RH field used to compute the initial water vapor mixing ratio field may contain zero
      (or possible garbage) values in the lowest model levels.

      <p>This bug was only present in v3.0, and not in earlier releases of MPAS-Atmosphere.<br>
      </td>
    </tr>


    <tr>
      <td style="vertical-align: top;"><big><span style="font-weight: bold;">MPAS-Atmosphere Version 3.0</span></big><br>
      <big><span style="font-weight: bold;">18 November 2014</span></big>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">
      This major release includes only minor changes to the atmosphere core, and more substantial changes
      to the shared MPAS infrastructure.<br><br>
      Changes to atmosphere-specific code include:
      <ul>
        <li>Support for soil moisture and soil temperature from ERA-I levels (0-7, 7-28, 28-100, and 100-25 cm);</li>
        <li>a significant reduction in the print statements written to the log files;</li>
        <li>a reduction in the set of fields written to the default model history files; and</li>
        <li>miscellaneous minor bugfixes.</li>
      </ul>
      This release of MPAS includes two major changes to the MPAS software infrastructure, the second of which significantly
      changes the model user interface.
      <ul>
        <li>As a significant step in preparing the MPAS framework for support of multiple MPAS cores being compiled together
            in the same executable, the internal storage of fields and namelist options has been rewritten; this change principally
            affects model developers who need to access fields inside the MPAS code.
        <li>To enable full run-time control over file input and output, a new I/O layer has been developed for MPAS. In past
            releases of MPAS, control over input, restart, and history files took place in the namelist file. <i>Now, all configuration
            of model input, restart, and history files makes use of separate XML configuration files</i>. A new chapter (Chapter 5) 
            has been added to the <a href="http://www2.mmm.ucar.edu/projects/mpas/mpas_atmosphere_users_guide_3.0.pdf">MPAS-Atmosphere Users' Guide</a> 
            to describe the use of this new I/O system.
      </ul>
      New features in the MPAS-Ocean and MPAS-Land Ice cores may be found in the documentation for these cores.<br><br>
      </td>
    </tr>


    <tr>
      <td style="vertical-align: top;"><big><span style="font-weight: bold;">MPAS-Atmosphere Version 2.1</span></big><br>
      <big><span style="font-weight: bold;">6 June 2014</span></big>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">
      This bugfix release corrects two issues in MPAS-Atmosphere:
      <ul>
      <li>The double-precision RRTMG long-wave table, RRTMG_LW_DATA.DBL, was inconsistent 
          with the version of the RRTMG code that was included in MPAS-Atmosphere. 
          The RRTMG_LW_DATA.DBL has been updated in the MPAS-Data repository, and the source code 
          includes changes in the data checkout script to download the latest version of all 
          WRF physics tables from this repository.</li>
      <li>In two places in the MPAS-Atmosphere solver, the upwinding coefficient for the 3rd-order 
          advection scheme, config_coef_3rd_order, was incorrectly declared as an integer rather than a real.
          The bug affects the diagnosis of the covariant vertical velocity omega, resulting in the use
          of a fourth-order diagnosis as opposed to the third-order diagnosis consistent with the horizontal transport.</li>
      </ul>
      </td>
    </tr>


    <tr>
      <td style="vertical-align: top;"><big><span style="font-weight: bold;">MPAS-Atmosphere Version 2.0</span></big><br>
      <big><span style="font-weight: bold;">15 November 2013</span></big>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">
      The 2.0 release represents a relatively minor increment in functionality for MPAS-Atmosphere. 
      Improvements and new features of MPAS-Atmosphere include:
      <ul>
      <li>the option to run the RRTMG long-wave and short-wave radiation codes with climatologically varying 
          ozone profiles</li>
      <li>improved interpolation of surface update fields (sea-surface
          temperatures and fractional seaice)</li>
      <li>the ability to run MPAS-A in single-precision. This capability has received very limited testing, and the MPAS-A group would be 
          interested in receiving any feedback based on user experiences with this feature. For information on building and running MPAS-A for
          single-precision execution, please see <a href="single_precision.html">this page</a>.</li>
      <li>other minor corrections to code, including:
              <ul>
                  <li>logic changes to compute simulated radar reflectivity and other diagnostic fields at the proper time in high-frequency diagnostic files</li>
                  <li>fix for the lower bound of a loop in the computation of horizontal advection of w when config_w_adv_order=3 (no impact on results); thanks to Bill Gustafson Jr. and Matus Martini of PNNL</li>
                  <li>turning off the inclusion of moisture by default in the initialization for the Jablonowski and Williamson test case</li>
              </ul>
      </ul><br>
      The MPAS 2.0 release is the first public release to include the MPAS Land-Ice
      core. For information on MPAS-Land Ice, please see 
      <a href="http://mpas-dev.github.io/land_ice/land_ice.html">http://mpas-dev.github.io/land_ice/land_ice.html</a>.
      Information about new features in the MPAS-Ocean core can be found in the MPAS-Ocean documentation.<br><br>
      </td>
    </tr>


    <tr>
      <td style="vertical-align: top;"><big><span style="font-weight: bold;">MPAS-Atmosphere Version 1.5</span></big><br>
      <big><span style="font-weight: bold;">4 September 2013</span></big>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">
This release corrects an indexing error in the computation of horizontal mixing for w.<br>
Thanks to Matus Martini for finding this bug.<br><br>
      </td>
    </tr>


    <tr>
      <td style="vertical-align: top;"><big><span style="font-weight: bold;">MPAS-Atmosphere Version 1.4</span></big><br>
      <big><span style="font-weight: bold;">27 August 2013</span></big>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">
This bugfix release introduces corrections to the hydrostatic balancing in MPAS-A real-data initialization to properly account for vertical grid stretching.<br><br>
      </td>
    </tr>


    <tr>
      <td style="vertical-align: top;"><big><span style="font-weight: bold;">MPAS-Atmosphere Version 1.3</span></big><br>
      <big><span style="font-weight: bold;">23 July 2013</span></big>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">
This bugfix release corrects syntax in the Bourne shell script used to check out physics lookup tables at build-time.<br><br>
      </td>
    </tr>


    <tr>
      <td style="vertical-align: top;"><big><span style="font-weight: bold;">MPAS-Atmosphere Version 1.2</span></big><br>
      <big><span style="font-weight: bold;">23 July 2013</span></big>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">
This bugfix release modifies Fortran USE statements to be compatible with older as well as current versions of the pg90 compiler.<br><br>
      </td>
    </tr>


    <tr>
      <td style="vertical-align: top;"><big><span style="font-weight: bold;">MPAS-Atmosphere Version 1.1</span></big><br>
      <big><span style="font-weight: bold;">15 July 2013</span></big>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">
<i>This bugfix release only affects MPAS-Ocean.</i><br><br>
      </td>
    </tr>


    <tr>
      <td style="vertical-align: top;"><big><span style="font-weight: bold;">MPAS-Atmosphere Version 1.0</span></big><br>
      <big><span style="font-weight: bold;">14 June 2013</span></big>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">
MPAS Version 1.0 was released on 14 June 2013.&nbsp; This is the first
public release of MPAS, including the atmosphere model.&nbsp; MPAS-A
has undergone limited testing for NWP time-scale integrations (days to
weeks) and seasonal to year-long integrations for regional climate
applications, in addition to idealized testing including dry and moist
idealized baroclinic waves, squall-lines, supercells, and mountain-wave
simulations in 2D and 3D Cartesian geometries.<br>
      <br>
Considerations regarding this initial release:<br>
      <ul>
        <li>We have not tested the model for deep-atmosphere
configurations; our model top has typically been set at 30 km in real-data simulations.<br>
        </li>
        <li>The current physics suite, taken from the WRF-NRCM
configuration with a few additional options, had not been developed for
coarse meshes [dx ~ O(100 km)].&nbsp; We have observed a number of
MPAS-A failures related to physics on coarse meshes for long-term integrations with surface updates.</li>
        <li>We have only used GFS, CFSR, and NNRP data for
initialization of full-physics real-world cases. Real case
initializations using other data, like ERA-Interim data, are currently
being tested.<br>
        </li>

        <li>We have only limited post-processing capabilities at present, particularly with respect to visualization.</li>
        <li>While we have begun testing methods for interpolating the MPAS
output to latitude-longitude meshes (which would greatly expand our
post-processing capabilities), these packages are not available in this
release.&nbsp; <span style="font-style: italic;">We expect to make them available in the near future.</span><br>
        </li>
        <li>MPAS must be run under MPI because MPAS uses PIO.&nbsp; We
understand that there would be some utility to having a serial build,
and this capability may appear in a later release.<br>
        </li>
        <li>MPAS does not currently support running MPAS-Atmosphere
coupled to MPAS-Ocean.&nbsp; We anticipate that most coupled-model work
using MPAS-A will occur in CESM.&nbsp; We are, however, open to working
with others exploring coupling with other modeling systems.<br>
        </li>
        <li>MPAS-A
and MPAS-O are standalone models; this release does not contain the
CESM configurations for MPAS-A or MPAS-O, both of which are currently
under development.</li>
        <li>Data assimilation using the Data Assimilation Research
Testbed (DART) with MPAS-A is under development.&nbsp; This capability
is not available in this release.<br>
        </li>
      </ul>
We welcome comments, contributions, bug reports, bug fixes, and any other feedback.<br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<br>
<br><br>



</body></html>
